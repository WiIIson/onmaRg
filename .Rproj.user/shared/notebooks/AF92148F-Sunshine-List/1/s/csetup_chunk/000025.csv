"0","knitr::opts_chunk$set(echo = TRUE)"
"0",""
"0","# Load libraries"
"0","library(tidyverse)"
"0",""
"0",""
"0","# 1996 - https://files.ontario.ca/en-1996-pssd.csv"
"0","# 1997 - https://files.ontario.ca/en-1997-pssd.csv"
"0","# 1998 - https://files.ontario.ca/en-1998-pssd.csv"
"0","# 1999 - https://files.ontario.ca/en-1999-pssd.csv"
"0","# 2000 - https://files.ontario.ca/en-2000-pssd.csv"
"0","# 2001 - https://files.ontario.ca/en-2001-pssd.csv"
"0","# 2002 - https://files.ontario.ca/en-2002-pssd.csv"
"0","# 2003 - https://files.ontario.ca/en-2003-pssd.csv"
"0","# 2004 - https://files.ontario.ca/en-2004-pssd.csv"
"0","# 2005 - https://files.ontario.ca/en-2005-pssd.csv"
"0","# 2006 - https://files.ontario.ca/en-2006-pssd.csv"
"0","# 2007 - https://files.ontario.ca/en-2007-pssd.csv"
"0","# 2008 - https://files.ontario.ca/en-2008-pssd.csv"
"0","# 2009 - https://files.ontario.ca/en-2009-pssd.csv"
"0","# 2010 - https://files.ontario.ca/2010.csv"
"0","# 2011 - https://files.ontario.ca/2011_0.csv"
"0","# 2012 - https://files.ontario.ca/pssd-en-2012-fixed_0.csv"
"0","# 2013 - https://files.ontario.ca/pssd-en-2013.csv"
"0","# 2014 - https://files.ontario.ca/2014-pssd-full-compendium-utf8-en.csv"
"0","# 2015 - https://files.ontario.ca/pssd/en-2015-pssd-compendium-with-addendum-20161219.csv"
"0","# 2016 - https://files.ontario.ca/en-2016-pssd-compendium-20171128-utf8.csv"
"0","# 2017 - https://files.ontario.ca/en-2018-pssd-compendium.csv"
"0","# 2018 - https://files.ontario.ca/en-2018-pssd-compendium-20191223.csv"
"0","# 2019 - https://files.ontario.ca/tbs-pssd-compendium-2019-en-2020-12-21.csv"
"0","# 2020 - https://files.ontario.ca/pssd/2020/tbs-pssd-compendium-2020-en-utf-8-2022-01-10.csv"
"0","# 2021 - https://www.ontario.ca/public-sector-salary-disclosure/pssd-assets/files/2021/tbs-pssd-compendium-salary-disclosed-2021-en-utf-8-2022-03-25.csv"
"0",""
"0","# Import data"
"0","sunshine_data <- read.csv(""https://files.ontario.ca/en-1996-pssd.csv"") %>%"
"0","  select(-X) %>%"
"0","  rbind(read.csv(""https://files.ontario.ca/en-1997-pssd.csv"")) %>%"
"0","  rbind(read.csv(""https://files.ontario.ca/en-1998-pssd.csv"")) %>%"
"0","  rbind(read.csv(""https://files.ontario.ca/en-1999-pssd.csv"")) %>%"
"0","  rbind(read.csv(""https://files.ontario.ca/en-2000-pssd.csv"")) %>%"
"0","  rbind(read.csv(""https://files.ontario.ca/en-2001-pssd.csv"") %>% rename(""Job.Title""=""Position"", ""Last.Name""=""Surname"")) %>%"
"0","  rbind(read.csv(""https://files.ontario.ca/en-2002-pssd.csv"")) %>%"
"0","  rbind(read.csv(""https://files.ontario.ca/en-2003-pssd.csv"")) %>%"
"0","  rbind(read.csv(""https://files.ontario.ca/en-2004-pssd.csv"")) %>%"
"0","  rbind(read.csv(""https://files.ontario.ca/en-2005-pssd.csv"")) %>%"
"0","  rbind(read.csv(""https://files.ontario.ca/en-2006-pssd.csv"")) %>%"
"0","  rbind(read.csv(""https://files.ontario.ca/en-2007-pssd.csv"")) %>%"
"0","  rbind(read.csv(""https://files.ontario.ca/en-2008-pssd.csv"")) %>%"
"0","  rbind(read.csv(""https://files.ontario.ca/en-2009-pssd.csv"")) %>%"
"0","  rbind(read.csv(""https://files.ontario.ca/2010.csv"")) %>%"
"0","  rbind(read.csv(""https://files.ontario.ca/2011_0.csv"")) %>%"
"0","  rbind(read.csv(""https://files.ontario.ca/pssd-en-2012-fixed_0.csv"")) %>%"
"0","  rbind(read.csv(""https://files.ontario.ca/pssd-en-2013.csv"")) %>%"
"0","  rbind("
"0","    read.csv(""https://files.ontario.ca/2014-pssd-full-compendium-utf8-en.csv"") %>% rename("
"0","      ""Last.Name""=""Last.name"","
"0","      ""Job.Title""=""Job.title"","
"0","      ""Calendar.Year""=""Calendar.year"""
"0","    )"
"0","  ) %>%"
"0","  rbind(read.csv(""https://files.ontario.ca/pssd/en-2015-pssd-compendium-with-addendum-20161219.csv"")) %>%"
"0","  rbind("
"0","    read.csv(""https://files.ontario.ca/en-2016-pssd-compendium-20171128-utf8.csv"") %>%"
"0","      filter(Calendar.Year == 2016)"
"0","  ) %>%    "
"0","  rbind(read.csv(""https://files.ontario.ca/en-2018-pssd-compendium.csv"")) %>%"
"0","  rbind(read.csv(""https://files.ontario.ca/en-2018-pssd-compendium-20191223.csv"")) %>%"
"0","  rbind(read.csv(""https://files.ontario.ca/tbs-pssd-compendium-2019-en-2020-12-21.csv"")) %>%"
"0","  rbind("
"0","    read.csv(""https://files.ontario.ca/pssd/2020/tbs-pssd-compendium-2020-en-utf-8-2022-01-10.csv"") %>% rename("
"0","      ""Last.Name""=""Last.name"","
"0","      ""First.Name""=""First.name"","
"0","      ""Salary.Paid""=""Salary"","
"0","      ""Taxable.Benefits""=""Benefits"","
"0","      ""Job.Title""=""Job.title"","
"0","      ""Calendar.Year""=""Year"""
"0","    )"
"0","  ) %>%"
"0","  rbind("
"0","    read.csv(""https://www.ontario.ca/public-sector-salary-disclosure/pssd-assets/files/2021/tbs-pssd-compendium-salary-disclosed-2021-en-utf-8-2022-03-25.csv"") %>%"
"0","      rename(""Salary.Paid""=""Salary"", ""Taxable.Benefits""=""Benefits"",""Calendar.Year""=""Year"") %>%"
"0","      select(-X_docID)"
"0","  ) %>%"
"0","  # Clean list member names"
"0","  mutate(First.Name=sapply("
"0","    strsplit(First.Name, "" ""), function(x) x[which.max(nchar(x))]) %>%"
"0","      str_to_title()"
"0","  ) %>%"
"0","  # Clean list member salaries"
"0","  mutate("
"0","    Salary.Paid=gsub(Salary.Paid, pattern=""$"", replacement="""", fixed=TRUE) %>%"
"0","      gsub(pattern="" "", replacement="""") %>%"
"0","      gsub(pattern="","", replacement="""") %>%"
"0","      as.numeric()"
"0","  )"
"2","Warning: argument is not an atomic vector; coercing"
